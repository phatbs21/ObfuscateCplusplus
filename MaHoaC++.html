<html>
<head>
<title>Tool Mã Hóa C++</title>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
<meta charset="utf-8">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1">
          <meta http-equiv="cache-control" content="cache" />
          <meta http-equiv="content-language" content="vi" />
          <meta http-equiv="revisit-after" content="1 days" />
<!-- Latest compiled and minified CSS -->
<link rel="stylesheet" href="css/bootstrap.min.css">
<!-- jQuery library -->
<script src="js/jquery-3.1.1.min.js"></script>
<!-- Latest compiled JavaScript -->
<script src="js/bootstrap.min.js"></script>
<script>
/*
#define ENDCODE ;
#define NNO {
#define NNC }
#define DIVSET /=
#define ADDSET +=
#define SUBSET -=
#define MULSET *=
#define DIFSET !=
#define MODSET %=
#define XORSET ^=
#define ORXSET |=
#define ANDXSET &=
#define OR ||
#define AND &&
#define DOT .
#define PAY ,
#define CCO (
#define CCC )
#define MUL *
#define DIV /
#define SUBSUB --
#define ADDADD ++
#define ADD +
#define SUB -
#define MOD %
#define XOR ^
#define WTF ?
#define ANDX &
#define ORX |
#define EQUL ==
#define IN >>
#define OUT <<
#define LOWSET <=
#define HIGHSET >=
#define CTRO ->
#define DIF !
#define SET =
#define LOW <
#define HIGH >
*/
var CopyRight = "/*\n Sơn đẹp trai vô địch\n website: https://hotavn.com/ \n*/";
var thepdefine = "#define ENDCODE ;\n#define NNO {\n#define NNC }\n#define DIVSET /=\n#define ADDSET +=\n#define SUBSET -=\n#define MULSET *=\n#define DIFSET !=\n#define MODSET %=\n#define XORSET ^=\n#define ORXSET |=\n#define ANDXSET &=\n#define OR ||\n#define AND &&\n#define DOT .\n#define PAY ,\n#define CCO (\n#define CCC )\n#define MUL *\n#define DIV /\n#define SUBSUB --\n#define ADDADD ++\n#define ADD +\n#define SUB -\n#define MOD %\n#define XOR ^\n#define WTF ?\n#define ANDX &\n#define ORX |\n#define EQUL ==\n#define IN >>\n#define OUT <<\n#define LOWSET <=\n#define HIGHSET >=\n#define CTRO ->\n#define DIF !\n#define SET =\n#define LOW <\n#define HIGH >";
var Ary = [
	[/\;/g, " ENDCODE "],
	[/\{/g, " NNO "],
	[/\}/g, " NNC "],
	[/\/\=/g, " DIVSET "],
	[/\+\=/g, " ADDSET "],
	[/\-\=/g, " SUBSET "],
	[/\*\=/g, " MULSET "],
	[/\!\=/g, " DIFSET "],
	[/\%\=/g, " MODSET "],
	[/\^\=/g, " XORSET "],
	[/\|\=/g, " ORXSET "],
	[/\&\=/g, " ANDXSET "],
	[/\|\|/g, " OR "],
	[/\&\&/g, " AND "],
	//[/\./g, " DOT "],
	//[/\,/g, " PAY "],
	/*
	[/\(/g, " CCO "],
	[/\)/g, " CCC "],
	*/
	[/\*/g, " MUL "],
	[/\//g, " DIV "],
	[/\+\+/g, " ADDADD "],
	[/\-\-/g, " SUBSUB "],
	[/\+/g, " ADD "],
	[/\-/g, " SUB "],
	[/\%/g, " MOD "],
	[/\^/g, " XOR "],
	[/\?/g, " WTF "],
	[/\&/g, " ANDX "],
	[/\|/g, " ORX "],
	[/\!/g, " DIF "],
	[/\=\=/g, " EQUL "],
	[/\>\>/g, " IN "],
	[/\<\</g, " OUT "],
	[/\<\=/g, " LOWSET "],
	[/\>\=/g, " HIGHSET "],
	[/\-\>/g, " CTRO "],
	[/\=/g, " SET "],
	[/\</g, " LOW "],
	[/\>/g, " HIGH "]
	];
var Ary2 = [
	[";", "ENDCODE"],
	["{", "NNO"],
	["}", "NNC"],
	["/=", "DIVSET"],
	["+=", "ADDSET"],
	["-=", "SUBSET"],
	["*=", "MULSET"],
	["!=", "DIFSET"],
	["%=", "MODSET"],
	["^=", "XORSET"],
	["|=", "ORXSET"],
	["&=", "ANDXSET"],
	["||", "OR"],
	["&&", "AND"],
	["*", "MUL"],
	["/", "DIV"],
	["++", "ADDADD"],
	["--", "SUBSUB"],
	["+", "ADD"],
	["-", "SUB"],
	["%", "MOD"],
	["^", "XOR"],
	["?", "WTF"],
	["&", "ANDX"],
	["|", "ORX"],
	["!", "DIF"],
	["==", "EQUL"],
	[">>", "IN"],
	["<<", "OUT"],
	["<=", "LOWSET"],
	[">=", "HIGHSET"],
	["->", "CTRO"],
	["=", "SET"],
	["<", "LOW"],
	[">", "HIGH"]
	];
function makeid(lengthc) {
   var result           = '';
   var characters       = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz';
   var charactersLength = characters.length;
   for ( var i = 0; i < lengthc; i++ ) {
      result += characters.charAt(Math.floor(Math.random() * charactersLength));
   }
   return result;
}

//setup
var lentmath = 1;
function setuptoantu(){
	thepdefine = "";
	for(var i = 0; i<Ary.length; i++){
		var kkf = makeid(lentmath);
		Ary[i][1] = " "+kkf+" ";
		thepdefine += "#define " + kkf + " " + Ary2[i][0] + "\n";
	}
}

var KOK = [];
var defineOld = "";
function replacer2(match, p1, offset, string) {
	defineOld += "#"+p1+"\n";
	return "";
}
var kkfl = [];
function replacer3(match, p1, offset, string) {
	//console.log(offset);
	return "'";
}

function Encode1(){
	var space = document.getElementById("space1").checked;
	KOK = [];
	kkfl = [];
	defineOld = "";
	var input = $("#input1").val();
	lentmath = $("#lentmath1").val();
	setuptoantu();
	input = input.replace(/\/\/(.*)|\/\*([\S\s]*)\*\//g, "");
	input = input.replace(/\#(.*)/g, replacer2);
	input = input.replace(/\'/g, replacer3);
	
	var bcc = input.split("'");
	for(var cdc = 0; cdc<bcc.length; cdc++){
		if(cdc%2 == 0){
			var b = bcc[cdc].split("\"");
			for(var cd = 0; cd<b.length; cd++){
				if(cd%2 == 0){
					for(var i = 0; i<Ary.length; i++){
						b[cd] = b[cd].replace(Ary[i][0], Ary[i][1]);
					}
					if(!space){
						b[cd] = b[cd].replace(/\n+| +/g, " ");
						b[cd] = b[cd].replace(/\n+| +/g, " ");
					} else{
						b[cd] = b[cd].replace(/\n+/g,"\n");
						b[cd] = b[cd].replace(/ +/g, " ");
						b[cd] = b[cd].replace(/\n+/g,"\n");
						b[cd] = b[cd].replace(/ +/g, " ");
					}
				}
			}
			bcc[cdc] = b.join("\"");
		}
	}
	input = bcc.join("'");
	$("#output1").val(CopyRight+"\n"+defineOld+thepdefine+"\n"+input);
}

function checkEX(a){
	var ans = "";
	for(var i in KOK){
		if(a == KOK[i]){
			ans = i;
			break;
		}
	}
	return ans;
}

var dduf = "1234567890";
var lentvar = 1;
function replacer(match, p1, offset, string) {
	/*
	for(var i = 0; i<dduf.length; i++)
		if(p1[0] == dduf[i])
			return p1;
	*/
	var mdk = makeid(lentvar);
	var kdp = checkEX(p1);
	if(kdp == ""){
		KOK[mdk] = p1;
		return mdk;
	} else {
		return kdp;
	}
}
function Encode2(){
	var space = document.getElementById("space2").checked;
	var math = document.getElementById("math2").checked;
	KOK = [];
	kkf = [];
	var input = $("#input2").val();
	lentmath = $("#lentmath2").val();
	lentvar = $("#lentvar2").val();
	setuptoantu();
	input = input.replace(/\/\/(.*)|\/\*([\S\s]*)\*\//g, "");
	defineOld = "";
	input = input.replace(/\#(.*)/g, replacer2);
	input = input.replace(/\'/g, replacer3);
	
	var DefineMAHOA = "";
	
	var bcc = input.split("\"");
	for(var cdc = 0; cdc<bcc.length; cdc++){
		if(cdc%2 == 0){
			var b = bcc[cdc].split("'");
			for(var cd = 0; cd<b.length; cd++){
				if(cd%2 == 0){
					b[cd] = b[cd].replace(/([\d_a-zA-Z]+)/g, replacer);
					if(math){
						for(var i = 0; i<Ary.length; i++){
							b[cd] = b[cd].replace(Ary[i][0], Ary[i][1]);
						}
					}
					if(!space){
						b[cd] = b[cd].replace(/\n+| +/g, " ");
						b[cd] = b[cd].replace(/\n+| +/g, " ");
					} else{
						b[cd] = b[cd].replace(/\n+/g,"\n");
						b[cd] = b[cd].replace(/ +/g, " ");
						b[cd] = b[cd].replace(/\n+/g,"\n");
						b[cd] = b[cd].replace(/ +/g, " ");
					}
				}
			}
			bcc[cdc] = b.join("'");
		}
	}
	input = bcc.join("\"");
	
	for(var i in KOK)
		DefineMAHOA += "#define " + i + " " + KOK[i] + "\n";
	if(math)
		$("#output2").val(CopyRight+"\n"+defineOld+"\n"+DefineMAHOA+thepdefine+"\n"+input);
	else
		$("#output2").val(CopyRight+"\n"+defineOld+"\n"+DefineMAHOA+"\n"+input);
	//$("#output2").val(DefineMAHOA+"\n"+input);
}
document.addEventListener('DOMContentLoaded', function() {
    document.getElementById("Encode1").addEventListener('click', function() {
        Encode1();
    });
	document.getElementById("Encode2").addEventListener('click', function() {
        Encode2();
    });
});
</script>
<style>
body {
    min-width:600px;
}
.jumbotron {
    padding: 2rem 2rem;
}
</style>
</head>
<body>
<div class="container">
  <div class="jumbotron">
    <h1>Encode C++</h1> 
    <p>This project make by HotaVN</p><br/>
  <nav class="navbar navbar-expand-md bg-dark navbar-dark">
  <!-- Brand -->
  <a class="navbar-brand" href="#">HotaVN project</a>

  <!-- Toggler/collapsibe Button -->
  <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#collapsibleNavbar">
    <span class="navbar-toggler-icon"></span>
  </button>

  <!-- Navbar links -->
  <div class="collapse navbar-collapse" id="collapsibleNavbar">
    <ul class="navbar-nav">
      <li class="nav-item">
        <a class="nav-link" href="https://hotavn.com/">HotaVN</a>
      </li>
      <li class="nav-item">
        <a class="nav-link" href="https://www.facebook.com/HotaVN">Facebook</a>
      </li>
    </ul>
  </div> 
</nav>
</div>
  
 <div class="alert alert-warning">
  <strong>Warning! </strong> Một số kiểu mã hóa không thể dịch ngược</a>.
</div>
<!-- Nav tabs -->
<ul class="nav nav-tabs">
  <li class="nav-item">
    <a class="nav-link active show" data-toggle="tab" href="#menu1">C++ Simple</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" data-toggle="tab" href="#menu2">C++ Pro</a>
  </li>
</ul>
</div>

<!-- Tab panes -->
<div class="tab-content">
	  <div class="tab-pane container active show" id="menu1">
	  <div class="container">
	  <div class="jumbotron">
	  <div class="alert alert-warning">
	  <strong>Một số thông tin: </strong> Mã hóa C++ simple là một loại mã hóa cơ bản chủ ý để mắt khó nhìn</a>.
	</div>
		<form>
		  <div class="form-group">
			<label for="email" style="color:red;">Input</label>
			<textarea id="input1" class="form-control" style="width: 100%;height: 20%;"></textarea>
		  </div>
		  <div class="form-group">
			<label for="pwd" style="color:red;">Output:</label>
			<textarea readonly="true" id="output1" class="form-control" style="width: 100%;height: 20%;"></textarea>
		  </div>
		  <div class="form-group">
			<label for="pwd" style="color:red;">Độ dài toán tử:</label>
			<input id="lentmath1" class="form-control" style="width: 100%; margin-bottom:10px;" type="number" value="5" />
		  </div>
		  <div class="checkbox">
			<label><input type="checkbox" id="space1">Làm đẹp?</label>
		  </div>
		  <input class="btn btn-primary" value="Encode" type="button" id="Encode1" />
		</form>
	</div>
	</div>
	</div>
	
	<div class="tab-pane container" id="menu2">
	  <div class="container">
	  <div class="jumbotron">
	  <div class="alert alert-warning">
	  <strong>Một số thông tin: </strong> Mã hóa C++ Pro là một loại mã hóa mà không thể dịch ngược, trừ khi bạn có bản lịch sử mã hóa hệ thông</a>.
	</div>
		<form>
		  <div class="form-group">
			<label for="email" style="color:red;">Input</label>
			<textarea id="input2" class="form-control" style="width: 100%;height: 20%;"></textarea>
		  </div>
		  <div class="form-group">
			<label for="pwd" style="color:red;">Output:</label>
			<textarea readonly="true" id="output2" class="form-control" style="width: 100%;height: 20%;"></textarea>
		  </div>
		  <div class="form-group">
			<label for="pwd" style="color:red;">Độ dài toán tử:</label>
			<input id="lentmath2" class="form-control" style="width: 100%; margin-bottom:10px;" type="number" value="5" />
		  </div>
		  <div class="form-group">
			<label for="pwd" style="color:red;">Độ dài biến:</label>
			<input id="lentvar2" class="form-control" style="width: 100%; margin-bottom:10px;" type="number" value="8" />
		  </div>
		  <div class="checkbox">
			<label><input type="checkbox" id="space2">Làm đẹp?</label>
		  </div>
		  <div class="checkbox">
			<label><input type="checkbox" id="math2">Mã hóa toán tử?</label>
		  </div>
		  <input class="btn btn-primary" value="Encode" type="button" id="Encode2" />
		</form>
	</div>
	</div>
	  </div>
</div>
</body>
</html>